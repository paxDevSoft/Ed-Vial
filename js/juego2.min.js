function girar_circulo(a,b,c,d,e){incremento[a]+=e;var f=c+Math.cos(incremento[a])*b;var g=d+Math.sin(incremento[a])*b;senalesS[a].css({left:f+"px",top:g+"px"})}function random_array(a,b){var c=new Array;var d=0;for(var e=0;e<b;e++){d=random(0,a-1);if(in_array(d,c)){b++}else{c.push(d)}}return c}function random_array_values_exclude(a,b,c){var d=[].concat(a);var e=[].concat(c);var f=0;var g=a.length;var h=e.length;e.sort(function(a,b){return b-a});for(var i=0;i<h;i++){d.splice(parseInt(e[i]-1),1)}return randomize_array(d,b)}function random_array_values(a,b){var c=new Array;var d=0;var e=a.length;for(var f=0;f<b;f++){d=parseInt(random(0,e-1));c.push(parseInt(a[d]))}return c}function randomize_array(a,b){var c=a;for(var d=0;d<50;d++){c.sort(function(){return random(-1,1)})}return c.splice(0,b)}function in_array(a,b){if(jQuery.inArray(a,b)==-1){return false}else{return true}}function random(a,b){return Math.floor(Math.random()*(b-a+1))+a}function Capplication_events(a){a.canvas.find(".b_empezar").live("click",function(b){a.nivel_empezar(b)});a.canvas.find("#senales .mask").live("mousedown",function(b){a.senal_click(b)});a.canvas.find("#p_mensaje .b_repetir").live("click",function(){a.nivel_repetir()});a.canvas.find("#p_mensaje .b_siguiente").live("click",function(){a.click_siguiente()});a.canvas.find(".#p_empezar .explicacion .vinculo").live("click",function(b){a.pantalla_explicacion()});a.canvas.find("#p_explicacion .b_salir").live("click",function(){a.oculta_explicacion()});a.canvas.find("#p_explicacion .b_anterior").live("click",function(){a.pasa_hoja_explicacion(false)});a.canvas.find("#p_explicacion .b_siguiente").live("click",function(){a.pasa_hoja_explicacion(true)})}var tiempo=0;var Etiempo;var timer;var incremento=[];var intervalos=[];var senalesS=[];var preloadimages=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","c1","c2","c3","c4","c5","c6","d1","d2","d3","i1","i2","i3","o1","o2","o3","o4","o5","o6"];var preloadS=$("#canvas_preload");var preload_tmp;for(preload_tmp in preloadimages){document.write('<img src="img/senales/'+preloadimages[preload_tmp]+'.png" style="display:none;height:0;visibility:hidden;width:0y" />')}$(document).ready(function(a){a("#a_sonido").bind("click",function(){a(this).toggleClass("musica_off");if(a(this).hasClass("musica_off"))soundManager.stop("bso");else{var b=soundManager.getSoundById("bso");loopSound(b)}})});var Capplication=function(a){this.height=0;this.width=0;this.niveles_totales=0;this.vidas=0;this.nivel_actual=0;this.canvas=a;this.obj="";this.tiempo=0;this.texto="";this.disposicion="";this.movimiento="";this.senales_total=0;this.senales_buenas=0;this.img_buenas=[];this.check_order=0;this.buenos=[];this.Capplication=function(){this.canvas=a;this.obj=this;this.niveles_totales=data.nivel.length;this.height=this.canvas.height();this.width=this.canvas.width();this.cache_elementos();Capplication_events(this);this.nivel_actual=0;this.vidas=3;this.nivel_cargar();this.muestra_splash()};this.cache_elementos=function(){this.Einfo=this.canvas.find("#info");this.Evidas=this.canvas.find("#vidas");this.Etiempo=this.canvas.find("#tiempo span");Etiempo=this.Etiempo;this.Einfo_texto=this.canvas.find("#info_texto");this.Enivel=this.canvas.find("#nivel");this.Ep_splash=this.canvas.find("#p_splash");this.Ep_explicacion=this.canvas.find("#p_explicacion");this.Ep_empezar=this.canvas.find("#p_empezar");this.Ep_mensaje=this.canvas.find("#p_mensaje");this.Ep_juego=this.canvas.find("#p_juego");this.Ep_senales=this.canvas.find("#senales")};this.nivel_siguiente=function(){clearInterval(timer);if(this.nivel_actual>=this.niveles_totales-1){this.pantalla_conmensaje("ganado")}else{this.nivel_actual+=1}};this.nivel_cargar=function(){this.tiempo=parseInt(data.nivel[this.nivel_actual].tiempo);tiempo=this.tiempo;this.texto=data.nivel[this.nivel_actual].texto;this.disposicion=data.nivel[this.nivel_actual].disposicion;this.movimiento=data.nivel[this.nivel_actual].movimiento;this.senales_total=parseInt(data.nivel[this.nivel_actual].senales_total);this.senales_buenas=parseInt(data.nivel[this.nivel_actual].senales_buenas);this.img_buenas=data.nivel[this.nivel_actual].img_buenas;this.img_buenas2=data.nivel[this.nivel_actual].img_buenas2;this.img_mala=data.nivel[this.nivel_actual].img_mala;this.animacion=data.nivel[this.nivel_actual].animacion;this.ruido=data.nivel[this.nivel_actual].ruido;this.doble=data.nivel[this.nivel_actual].doble;this.img_senales=data.img_senales;senalesS=[];var a="vidas";if(this.vidas<=1){a="vida"}this.Evidas.html('<img src="img/nuevas/bg-vidas.png" /><span>'+this.vidas+"</span>");this.Einfo_texto.html(this.texto);this.Enivel.html(this.nivel_actual+1);this.Etiempo.html(this.tiempo+'"');if(this.tiempo<=0){this.Etiempo.hide()}else{this.Etiempo.show()}};this.nivel_empezar=function(a){if($(a.target).hasClass("b_inicio")){this.nivel_actual=0;this.vidas=3;this.nivel_cargar();this.pantalla_empezar()}else{this.Ep_empezar.fadeOut(500);this.nivel_limpiar();switch(this.disposicion){case"matrix":this.dispo_matrix();break;case"random":this.check_order=[0,0];this.dispo_random();break;case"lluvia":this.dispo_lluvia();break;case"cruz":this.dispo_cruz();break;case"circulos":this.dispo_circulos();break;case"matrix_random":this.dispo_matrix_random();break}this.Einfo.animate({top:"80%"});this.Einfo.find("#vidas").animate({width:85,height:104,left:32,"padding-top":23,"padding-left":33,"font-size":34});this.Einfo.find("#vidas").children("img").animate({width:85,height:104});this.Einfo.find("#div_nivel").animate({"margin-left":50,"margin-right":0,"margin-top":0});this.Einfo.find("#div_nivel").css({});this.Einfo.find("#info_texto").css({"text-align":"left"});this.Einfo.find("#info_texto").animate({"margin-left":140,"margin-right":0});this.Einfo.find("#tiempo").animate({width:96,height:103,"padding-top":36,"font-size":33});this.Einfo.find("#tiempo").children("img").animate({width:96,height:103});this.Ep_juego.fadeIn(500);if(this.tiempo>0){timer=setInterval(this.cronometro,1e3)}else{this.Etiempo.hide()}}};this.nivel_repetir=function(){this.nivel_limpiar();this.pantalla_empezar()};this.nivel_limpiar=function(){clearInterval(timer);clearInterval(intervalos);this.Ep_juego.find("#senales").empty();this.nivel_cargar();var a;for(a in intervalos){clearInterval(intervalos[a])}intervalos=[];incremento=[]};this.click_siguiente=function(){this.nivel_siguiente();this.nivel_cargar();this.pantalla_empezar()};this.perder=function(a){this.vidas--;if(this.vidas<=0){this.pantalla_conmensaje("perdido")}else{this.pantalla_conmensaje("perder")}this.nivel_limpiar()};this.cronometro=function(){if(tiempo>0){tiempo--;$(Etiempo).html(tiempo+'"')}else{Ojuego.perder("tiempo");clearInterval(timer)}};this.dispo_matrix=function(){var a=0;var b=0;var c=175;var d=30;var e=97;var f=65;this.Ep_juego.find("#senales").empty();var g=[];if(this.img_buenas[0]=="*"){for(var h=1;h<=this.img_senales.length;h++){this.buenos.push(h)}this.buenos=random_array_values(this.buenos,this.senales_buenas)}else{this.buenos=random_array_values(this.img_buenas,this.senales_buenas);g=random_array_values_exclude(this.img_senales,this.senales_total-this.senales_buenas,this.img_buenas);var i=g.length}var j;if(this.animacion=="cambia"){j=random_array(25,this.senales_buenas)}else{j=random_array(this.senales_total,this.senales_buenas)}for(var k=0,h=0,l=0;k<5;k++){for(var m=0;m<5;m++){var n=false;var o;if(in_array(h,j)){if(this.animacion=="cambia"){o=this.img_mala[0]}else{o=this.buenos[l]}l++;n=true}else{o=g[random(0,i-1)]}if(this.animacion=="cambia"){if(n==true){this.Ep_senales.append('<div class="senal" style="left:'+(e*m+c)+"px; top:"+(f*k+d)+'px"><div name="'+o+'" class="mask"></div><img src="img/senales/'+o+'.png" /></div>')}}else{this.Ep_senales.append('<div class="senal" style="left:'+(e*m+c)+"px; top:"+(f*k+d)+'px"><div name="'+o+'" class="mask"></div><img src="img/senales/'+o+'.png" /></div>')}h++}}if(this.animacion=="cambia"){this.cambia_senal(this.img_buenas[0],0)}};this.dispo_matrix_random=function(){var a=0;var b=0;var c=0;var d=0;var e=95;var f=80;this.Ep_juego.find("#senales").empty();var g=[];if(this.img_buenas[0]=="*"){for(var h=1;h<=this.senales_total;h++){this.buenos.push(h)}}else{this.buenos=random_array_values(this.img_buenas,this.senales_total);g=random_array_values_exclude(this.img_senales,this.senales_total,this.img_buenas);var i=g.length}for(var j=0;j<4;j++){for(var k=0;k<8;k++){var a=e*k+c+random(0,60);var b=f*j+d+random(0,60);var l=g[random(0,i-1)];this.Ep_senales.append('<div class="senal" style="left:'+a+"px; top:"+b+'px"><div name="'+l+'" class="mask"></div><img src="img/senales/'+l+'.png" /></div>')}}if(this.animacion=="cambia"){intervalos=setInterval("Ojuego.cambia_senal("+this.img_buenas[0]+", 800)",2e3)}};this.dispo_random=function(){var b=0;var c=0;var d=593;var e=150;var f=this.senales_buenas;if(this.doble){f=this.senales_buenas/2}if(this.animacion!="gira"){if(data.nivel[this.nivel_actual].dim==1){var g=new Array(175,142,109,85,58,31);var h=new Array(195,160,122,95,65,35)}else{var g=new Array(160,95,35);var h=new Array(160,95,35);var i=new Array(142,85,31);var j=new Array(160,95,35)}if(this.ruido==true){var k=0;var l=0;var m=240;var n=150;if(this.doble==false){var o=random_array_values_exclude(this.img_senales,this.senales_total,["46","35"])}else{var o=random_array_values_exclude(this.img_senales,this.senales_total,["39"])}var p=o.length;for(var q=0;q<3;q++){for(var r=0;r<4;r++){var s=m*r+k+random(0,10);var t=n*q+l+random(0,10);var u=o[random(0,p-1)];this.Ep_senales.append('<div class="senal" style="left:'+s+"px; top:"+t+'px"><div name="'+u+'" class="mask"></div><img src="img/senales/'+u+'.png" /></div>')}}}this.buenos=[];for(var q=f-1;q>=0;q--){var s=random(b,d);var t=random(c,e);this.Ep_senales.append('<div class="senal a" style="left:'+s+"px; top:"+t+"px; height:"+g[q]+"px; width:"+h[q]+'px"><div name="'+this.img_buenas[q]+'" class="mask"></div><img src="img/senales/'+this.img_buenas[q]+'.png" /></div>');this.buenos[this.img_buenas[q]]=1;if(this.doble==true){var s=random(b,d);var t=random(c,e);this.Ep_senales.append('<div class="senal b" style="left:'+s+"px; top:"+t+"px; height:"+i[q]+"px; width:"+j[q]+'px"><div name="'+this.img_buenas2[q]+'" class="mask"></div><img src="img/senales/'+this.img_buenas2[q]+'.png" /></div>');this.buenos[this.img_buenas2[q]]=1}}}else{this.buenos=[];for(var q=0;q<this.senales_buenas;q++){var s=random(b,d);var t=random(c,e);this.Ep_senales.append('<div class="senal" style="left:'+s+"px; top:"+t+'px"><div name="'+this.img_buenas[0]+'" class="mask"></div><img src="img/senales/'+this.img_buenas[0]+'.png" /></div>');this.buenos.push(parseInt(this.img_buenas[0]))}if(this.ruido==true){var o=random_array_values_exclude(this.img_senales,this.senales_total,["23"]);var v=this.senales_total-this.senales_buenas;for(var q=0;q<v;q++){var u=o[q];this.Ep_senales.append('<div class="senal" id="'+q+'" style="left:-100px; top:-100px"><div name="'+u+'" class="mask"></div><img src="img/senales/'+u+'.png" /></div>')}var w=80;var x=.1;for(var q=0;q<o.length;q++){senalesS["#"+q]=a.find("#"+q);incremento["#"+q]=random(0,6);intervalos[q]=setInterval("girar_circulo('#"+q+"', "+random(40,450)+", 460, 190, "+x+")",w)}}}};this.dispo_lluvia=function(){var a=0;var b=0;var c=728;var d=-70;if(this.img_buenas[0]=="*"){this.buenos=random_array_values(this.img_senales,this.senales_buenas)}else{this.buenos=random_array_values(this.img_buenas,this.senales_buenas);array_otros=random_array_values_exclude(this.img_senales,this.senales_total-this.senales_buenas,this.img_buenas);var e=array_otros.length}var f=random_array(this.senales_total,this.senales_buenas);for(var g=0,h=0;g<this.senales_total;g++){a=random(b,c);var i;if(in_array(g,f)){i=this.buenos[h];h++}else{i=array_otros[random(0,e-1)]}this.Ep_senales.append('<div class="senal" style="left:'+a+"px; top:"+d+'px"><div name="'+i+'" class="mask"></div><img src="img/senales/'+i+'.png" /></div>')}var j=4250;var k=0;for(var g=0;g<this.senales_total;g++){k+=random(600,1200);this.Ep_senales.find("> div:eq("+g+")").delay(k).animate({top:"378px"},j,"linear",function(){if($(this).is(":visible")){if(in_array(parseInt($(this).find(".mask").attr("name")),Ojuego.buenos)){Ojuego.perder("mala")}}})}};this.dispo_cruz=function(){var b=0;var c=new Array(210,370,530,370);var d=new Array(150,0,150,300);var e=new Array(210,285,370,455,530,370,370,370,370);var f=new Array(150,150,150,150,150,0,75,225,300);this.buenos=random_array_values(this.img_buenas,this.senales_buenas);for(var g=0;g<this.senales_buenas;g++){this.Ep_senales.append('<div id="d'+b+'" class="senal" style="left:'+c[g]+"px; top:"+d[g]+'px"><div name="'+this.buenos[g]+'" class="mask"></div><img src="img/senales/'+this.buenos[g]+'.png" /></div>');b++}array_otros=random_array_values_exclude(this.img_senales,this.senales_total-this.senales_buenas,this.img_buenas);for(var g=0;g<this.senales_total-this.senales_buenas;g++){this.Ep_senales.append('<div id="d'+b+'" class="senal" style="left:'+e[g]+"px; top:"+f[g]+'px"><div name="'+array_otros[g]+'" class="mask"></div><img src="img/senales/'+array_otros[g]+'.png" /></div>');b++}incremento["#d4"]=0;incremento["#d5"]=0;incremento["#d9"]=1.5708;incremento["#d10"]=1.5708;incremento["#d7"]=3.1416;incremento["#d8"]=3.1416;incremento["#d11"]=4.7124;incremento["#d12"]=4.7124;var h=25;var i=75;var j=150;var k=.06;senalesS["#d"+4]=a.find("#d"+4);senalesS["#d"+5]=a.find("#d"+5);senalesS["#d"+7]=a.find("#d"+7);senalesS["#d"+8]=a.find("#d"+8);senalesS["#d"+9]=a.find("#d"+9);senalesS["#d"+10]=a.find("#d"+10);senalesS["#d"+11]=a.find("#d"+10);senalesS["#d"+11]=a.find("#d"+11);senalesS["#d"+12]=a.find("#d"+12);var l=370;var m=150;intervalos[0]=setInterval("girar_circulo('#d4', "+j+", "+l+", "+m+", "+k+")",h);intervalos[1]=setInterval("girar_circulo('#d5', "+i+", "+l+", "+m+", "+k+")",h);intervalos[2]=setInterval("girar_circulo('#d7', "+i+", "+l+", "+m+", "+k+")",h);intervalos[3]=setInterval("girar_circulo('#d8', "+j+", "+l+", "+m+", "+k+")",h);intervalos[4]=setInterval("girar_circulo('#d9', "+j+", "+l+", "+m+", "+k+")",h);intervalos[5]=setInterval("girar_circulo('#d10', "+i+", "+l+", "+m+", "+k+")",h);intervalos[6]=setInterval("girar_circulo('#d11', "+i+", "+l+", "+m+", "+k+")",h);intervalos[7]=setInterval("girar_circulo('#d12', "+j+", "+l+", "+m+", "+k+")",h)};this.dispo_circulos=function(){var b=0;var c=0;var d=0;var e=0;var f=738;var g=0;var h=300;this.buenos=random_array_values(this.img_buenas,this.senales_buenas);array_otros=random_array_values_exclude(this.img_senales,this.senales_total-this.senales_buenas,this.img_buenas);for(var i=0;i<this.senales_buenas;i++){c=random(e,f);d=random(g,h);this.Ep_senales.append('<div id="d'+b+'" class="senal" style="left:'+c+"px; top:"+d+'px"><div name="'+this.buenos[i]+'" class="mask"></div><img src="img/senales/'+this.buenos[i]+'.png" /></div>');b++}for(var i=0;i<this.senales_total-this.senales_buenas;i++){this.Ep_senales.append('<div id="d'+b+'" class="senal" style="left:-100px; top:-100px"><div name="'+array_otros[i]+'" class="mask"></div><img src="img/senales/'+array_otros[i]+'.png" /></div>');b++}incremento["#d6"]=0;incremento["#d7"]=.7854;incremento["#d8"]=1.5708;incremento["#d9"]=2.3562;incremento["#d10"]=3.1416;incremento["#d11"]=3.927;incremento["#d12"]=4.7124;incremento["#d13"]=5.4978;incremento["#d14"]=0;incremento["#d15"]=.7854;incremento["#d16"]=1.5708;incremento["#d17"]=2.3562;incremento["#d18"]=3.1416;incremento["#d19"]=3.927;incremento["#d20"]=4.7124;incremento["#d21"]=5.4978;var j=25;var k=.05;var l=135;var m=180;var n=150;var o=580;var p=170;for(var i=6;i<=21;i++){senalesS["#d"+i]=a.find("#d"+i)}intervalos[0]=setInterval("girar_circulo('#d6', "+l+", "+m+", "+n+", "+k+")",j);intervalos[1]=setInterval("girar_circulo('#d7', "+l+", "+m+", "+n+", "+k+")",j);intervalos[2]=setInterval("girar_circulo('#d8', "+l+", "+m+", "+n+", "+k+")",j);intervalos[3]=setInterval("girar_circulo('#d9', "+l+", "+m+", "+n+", "+k+")",j);intervalos[4]=setInterval("girar_circulo('#d10', "+l+", "+m+", "+n+", "+k+")",j);intervalos[5]=setInterval("girar_circulo('#d11', "+l+", "+m+", "+n+", "+k+")",j);intervalos[6]=setInterval("girar_circulo('#d12', "+l+", "+m+", "+n+", "+k+")",j);intervalos[7]=setInterval("girar_circulo('#d13', "+l+", "+m+", "+n+", "+k+")",j);intervalos[8]=setInterval("girar_circulo('#d14', "+l+", "+o+", "+p+", "+k+")",j);intervalos[9]=setInterval("girar_circulo('#d15', "+l+", "+o+", "+p+", "+k+")",j);intervalos[10]=setInterval("girar_circulo('#d16', "+l+", "+o+", "+p+", "+k+")",j);intervalos[11]=setInterval("girar_circulo('#d17', "+l+", "+o+", "+p+", "+k+")",j);intervalos[12]=setInterval("girar_circulo('#d18', "+l+", "+o+", "+p+", "+k+")",j);intervalos[13]=setInterval("girar_circulo('#d19', "+l+", "+o+", "+p+", "+k+")",j);intervalos[14]=setInterval("girar_circulo('#d20', "+l+", "+o+", "+p+", "+k+")",j);intervalos[15]=setInterval("girar_circulo('#d21', "+l+", "+o+", "+p+", "+k+")",j)};this.pantalla_conmensaje=function(a){var b="";var c="";var d=38;if(this.nivel_actual>=this.niveles_totales-1){a="ganado"}switch(a){case"ganar":b="<p><strong>&iexcl;Enhorabuena!</strong></p> <p>Has superado el nivel "+parseInt(this.nivel_actual+1)+"</p>";c='<span class="b_repetir boton">Repetir</span> <span class="b_siguiente boton">Siguiente</span>';d=38;break;case"perder":this.nivel_limpiar();var e=parseInt(this.vidas);var f="";if(e>1){f="te quedan "+parseInt(this.vidas)+" vidas"}else if(e==1){f="te queda "+parseInt(this.vidas)+" vida"}b="<p><strong>&iexcl;Ooohhhh!</strong></p> <p>Has perdido... "+f+"</p>";c='<span class="b_repetir boton">Repetir</span>';d=49;break;case"ganado":b="<p><strong>&iexcl;Enhorabuena!</strong></p> <p>Has completado el juego... &iquest;Jugamos otra vez?</p>";c='<span class="b_empezar b_inicio boton">Empezar</span>';d=49;break;case"perdido":b="<p><strong>&iexcl;Ooohhhh!</strong></p> <p>Has perdido... &iquest;Jugamos otra vez?</p>";c='<span class="b_empezar b_inicio boton">Empezar</span>';d=49;break}this.Ep_mensaje.fadeIn(1e3).find(".mensaje").empty().append(b);this.Ep_mensaje.find(".botonera").css("left",d+"%").empty().append(c);this.Einfo.fadeOut(0);this.Einfo.find("#tiempo").hide();this.Ep_juego.fadeOut(1e3)};this.muestra_splash=function(){this.Ep_splash.fadeIn();setTimeout(this.oculta_splash,1500,this)};this.oculta_splash=function(a){a.Ep_splash.fadeOut(500);a.pantalla_empezar()};this.pantalla_explicacion=function(){this.Ep_empezar.fadeOut(500);this.Einfo.fadeOut(500);this.Ep_explicacion.find(".canvas_explicacion_pasos").removeClass("activo");this.Ep_explicacion.find(".canvas_explicacion_pasos").css("display","none");this.Ep_explicacion.find(".canvas_explicacion_pasos").eq(0).addClass("activo").fadeIn();if(this.Ep_explicacion.find(".canvas_explicacion_pasos.activo").hasClass("primero")){this.Ep_explicacion.find(".b_anterior").css("opacity","0.4")}else{this.canvas.find("#p_explicacion .b_anterior").fadeIn()}this.Ep_explicacion.fadeIn(500);setTimeout(this.muestra_canvas_exlicacion,800,this)};this.muestra_canvas_exlicacion=function(a){a.Ep_explicacion.find(".canvas_explicacion").fadeIn(500)};this.pasa_hoja_explicacion=function(a){pasoActivo=this.Ep_explicacion.find(".canvas_explicacion_pasos.activo");if(a){this.Ep_explicacion.find(".b_anterior").css("opacity","1");if(pasoActivo.hasClass("ultimo")){this.oculta_explicacion()}else{pasoActivo.fadeOut(500).removeClass("activo");pasoActivo.next().fadeIn(500).addClass("activo")}}else{if(pasoActivo.hasClass("primero")){}else{if(pasoActivo.prev().hasClass("primero")){this.Ep_explicacion.find(".b_anterior").css("opacity","0.4")}pasoActivo.fadeOut(500).removeClass("activo");pasoActivo.prev().fadeIn(500).addClass("activo")}}};this.oculta_explicacion=function(){this.Ep_explicacion.fadeOut(500);this.pantalla_empezar()};this.pantalla_empezar=function(){this.Einfo.find("#vidas").css({width:81,height:124,left:23,"padding-top":34,"padding-left":50,"font-size":53});this.Einfo.find("#vidas").children("img").css({width:131,height:158});this.Einfo.find("#div_nivel").css({"margin-left":236,"margin-right":236,"margin-top":7});this.Einfo.find("#info_texto").css({"text-align":"center","margin-left":236,"margin-right":236});this.Einfo.find("#tiempo").css({width:112,height:123,"padding-top":42,"font-size":40});this.Einfo.find("#tiempo").children("img").css({width:112,height:123});this.Einfo.find("#tiempo").show();this.Ep_mensaje.fadeOut(500);this.Ep_empezar.fadeIn(500);this.Einfo.css("top","71.4%").fadeIn(500)};this.cambia_senal=function(a,b){var c=this.Ep_senales.find("> div:not(.clickado)");var d=random(0,c.length-1);c.eq(d).each(function(){$(this).append('<img src="img/senales/'+a+'.png" style="display:none" />');var c=$(this).find(".mask");var d=c.attr("name");c.attr("name",a);$(this).find("img:last").fadeIn(400,function(){if(b!=0){$(this).delay(b).fadeOut(400,function(){c.attr("name",d)})}});$(this).find("img:first").fadeOut(400,function(){if(b!=0){$(this).delay(b).fadeIn()}})})};this.senal_click=function(a){var b=$(a.target);var c=b.parent();var d=b.attr("name");if(this.disposicion=="matrix"||this.disposicion=="lluvia"||this.disposicion=="cruz"||this.disposicion=="circulos"||this.disposicion=="matrix_random"||this.disposicion=="random"&&this.animacion=="gira"){if(in_array(parseInt(d),this.buenos)){this.senal_click_efecto(c);this.senales_buenas--;if(this.senales_buenas<=0){clearInterval(timer);this.pantalla_conmensaje("ganar")}else{if(this.animacion=="cambia"){if(this.disposicion=="matrix"){this.cambia_senal(this.img_buenas[0],0)}}}}else{this.perder("mala")}}else if(this.disposicion=="random"){if(this.buenos[d]==1){var e=0;if(c.hasClass("b")){e=1}if(d.substring(1)-1==this.check_order[e]){this.check_order[e]++;this.senal_click_efecto(c);this.senales_buenas--;if(this.senales_buenas<=0){clearInterval(timer);this.pantalla_conmensaje("ganar")}}else{this.perder("mala")}}else{this.perder("mala")}}};this.senal_click_efecto=function(a){a.addClass("clickado");a.find(".mask").hide();a.find("img").hide();a.prepend('<span class="nube"></span>');a.find(".nube").show().fadeOut(400,function(){a.hide()})};this.Capplication()}
